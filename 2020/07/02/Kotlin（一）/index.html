<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/Klien.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="记往昔录今朝只待明时">
  <meta name="author" content="Klien">
  <meta name="keywords" content="安卓原生开发、python日常脚本、Developer">
  <title>Kotlin的学习（一）——开始 - Klien-m&#39;s 博客</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/androidstudio.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 4.2.1"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Klien-m's 博客</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/post.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-07-02 16:13">
      2020年7月2日 下午
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      4.7k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      53
       分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
              <p class="note note-info">
                
                  本文最后更新于：6 小时前
                
              </p>
            
            <article class="markdown-body">
              <p>Keywords: val、var、null、when、data class、lazy、目录结构、源文件名称、源文件组织、类布局、命名规则、代码格式、until</p>
<a id="more"></a>

<p class="note note-primary">其实在前年还是什么时候，就已经把菜鸟教程里的 <a href="https://www.runoob.com/kotlin/kotlin-tutorial.html" target="_blank" rel="noopener">Kotlin</a>  语言教程给看了一遍，结果由于疏于使用，忘了个一干二净。去年寒假学习安卓的时候，又大致把 kotlin 看了一遍。为了跟敲郭霖大神的开源项目趣图，今天打算再把 <a href="https://www.kotlincn.net/docs/reference/coroutines/coroutines-guide.html" target="_blank" rel="noopener">Kotlin</a> 过一遍，顺便做个记录。</p>

<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>只读局部变量使用关键字 <code>val</code> 定义，只能为其赋值一次。<br>可重复赋值的变量使用 <code>var</code> 关键字</p>
<h3 id="字符串模板"><a href="#字符串模板" class="headerlink" title="字符串模板"></a>字符串模板</h3><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>
<span class="hljs-comment">// 模板中的简单名称：</span>
<span class="hljs-keyword">val</span> s1 = <span class="hljs-string">"a is <span class="hljs-variable">$a</span>"</span>

a = <span class="hljs-number">2</span>
<span class="hljs-comment">// 模板中的任意表达式：</span>
<span class="hljs-keyword">val</span> s2 = <span class="hljs-string">"<span class="hljs-subst">$&#123;s1.replace(<span class="hljs-string">"is"</span>, <span class="hljs-string">"was"</span>)&#125;</span>, but now is <span class="hljs-variable">$a</span>"</span></code></pre></div>

<h3 id="空值与-null-检测"><a href="#空值与-null-检测" class="headerlink" title="空值与 null 检测"></a>空值与 null 检测</h3><p>当某个变量的值可以为 null 的时候，必须在声明处的类型后添加 <code>?</code> 来标识该引用可为空。</p>
<h4 id="If-not-null-缩写"><a href="#If-not-null-缩写" class="headerlink" title="If not null 缩写"></a>If not null 缩写</h4><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> files = File(<span class="hljs-string">"Test"</span>).listFiles()
​
println(files?.size)</code></pre></div>

<h4 id="If-not-null-and-else-缩写"><a href="#If-not-null-and-else-缩写" class="headerlink" title="If not null and else 缩写"></a>If not null and else 缩写</h4><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> files = File(<span class="hljs-string">"Test"</span>).listFiles()
​
println(files?.size ?: <span class="hljs-string">"empty"</span>)</code></pre></div>

<h4 id="if-null-执行一个语句"><a href="#if-null-执行一个语句" class="headerlink" title="if null 执行一个语句"></a>if null 执行一个语句</h4><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> values = ……
<span class="hljs-keyword">val</span> email = values[<span class="hljs-string">"email"</span>] ?: <span class="hljs-keyword">throw</span> IllegalStateException(<span class="hljs-string">"Email is missing!"</span>)</code></pre></div>

<h4 id="在可能会空的集合中取第一元素"><a href="#在可能会空的集合中取第一元素" class="headerlink" title="在可能会空的集合中取第一元素"></a>在可能会空的集合中取第一元素</h4><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> emails = …… <span class="hljs-comment">// 可能会是空集合</span>
<span class="hljs-keyword">val</span> mainEmail = emails.firstOrNull() ?: <span class="hljs-string">""</span></code></pre></div>

<h4 id="if-not-null-执行代码"><a href="#if-not-null-执行代码" class="headerlink" title="if not null 执行代码"></a>if not null 执行代码</h4><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> value = ……
​
value?.let &#123;
    …… <span class="hljs-comment">// 代码会执行到此处, 假如data不为null</span>
&#125;</code></pre></div>

<h4 id="映射可空值（如果非空的话）"><a href="#映射可空值（如果非空的话）" class="headerlink" title="映射可空值（如果非空的话）"></a>映射可空值（如果非空的话）</h4><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> value = ……
​
<span class="hljs-keyword">val</span> mapped = value?.let &#123; transformValue(it) &#125; ?: defaultValue
<span class="hljs-comment">// 如果该值或其转换结果为空，那么返回 defaultValue。</span></code></pre></div>

<h3 id="类型检测与自动类型转换"><a href="#类型检测与自动类型转换" class="headerlink" title="类型检测与自动类型转换"></a>类型检测与自动类型转换</h3><p>is 运算符检测一个表达式是否某类型的一个实例。 如果一个不可变的局部变量或属性已经判断出为某类型，那么检测后的分支中可以直接当作该类型使用，无需显式转换:  </p>
<div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getStringLength</span><span class="hljs-params">(obj: <span class="hljs-type">Any</span>)</span></span>: <span class="hljs-built_in">Int</span>? &#123;
    <span class="hljs-comment">// `obj` 在 `&amp;&amp;` 右边自动转换成 `String` 类型</span>
    <span class="hljs-keyword">if</span> (obj <span class="hljs-keyword">is</span> String &amp;&amp; obj.length &gt; <span class="hljs-number">0</span>) &#123;
      <span class="hljs-keyword">return</span> obj.length
    &#125;

    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>
&#125;</code></pre></div>

<h3 id="when-表达式-java-switch"><a href="#when-表达式-java-switch" class="headerlink" title="when 表达式(java switch)"></a>when 表达式(java switch)</h3><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">describe</span><span class="hljs-params">(obj: <span class="hljs-type">Any</span>)</span></span>: String =
    <span class="hljs-keyword">when</span> (obj) &#123;
        <span class="hljs-number">1</span>          -&gt; <span class="hljs-string">"One"</span>
        <span class="hljs-string">"Hello"</span>    -&gt; <span class="hljs-string">"Greeting"</span>
        <span class="hljs-keyword">is</span> <span class="hljs-built_in">Long</span>    -&gt; <span class="hljs-string">"Long"</span>
        !<span class="hljs-keyword">is</span> String -&gt; <span class="hljs-string">"Not a string"</span>
        <span class="hljs-keyword">else</span>       -&gt; <span class="hljs-string">"Unknown"</span>
    &#125;</code></pre></div>

<h3 id="使用区间（range）"><a href="#使用区间（range）" class="headerlink" title="使用区间（range）"></a>使用区间（range）</h3><ul>
<li>in</li>
<li>!in</li>
<li>.. step downTo</li>
</ul>
<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><p>使用 lambda 表达式来过滤（filter）与映射（map）集合：</p>
<div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> fruits = listOf(<span class="hljs-string">"banana"</span>, <span class="hljs-string">"avocado"</span>, <span class="hljs-string">"apple"</span>, <span class="hljs-string">"kiwifruit"</span>)
fruits
  .filter &#123; it.startsWith(<span class="hljs-string">"a"</span>) &#125;
  .sortedBy &#123; it &#125;
  .map &#123; it.toUpperCase() &#125;
  .forEach &#123; println(it) &#125;</code></pre></div>

<h2 id="习惯用法"><a href="#习惯用法" class="headerlink" title="习惯用法"></a>习惯用法</h2><h3 id="创建-DTOs（POJOs-POCOs）"><a href="#创建-DTOs（POJOs-POCOs）" class="headerlink" title="创建 DTOs（POJOs/POCOs）"></a>创建 DTOs（POJOs/POCOs）</h3><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">data</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Customer</span></span>(<span class="hljs-keyword">val</span> name: String, <span class="hljs-keyword">val</span> email: String)</code></pre></div>

<p>会为 <code>Customer</code> 类提供一下功能：  </p>
<ul>
<li>所有属性的 getters（对于 var 定义的还有 setters）</li>
<li><code>equals()</code></li>
<li><code>hasCode()</code></li>
<li><code>toString()</code></li>
<li><code>copy()</code></li>
<li>所有属性的 <code>component1()</code>、<code>component2()</code>……等等</li>
</ul>
<h3 id="过滤-list"><a href="#过滤-list" class="headerlink" title="过滤 list"></a>过滤 list</h3><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> positives = list.filter &#123; x -&gt; x &gt; <span class="hljs-number">0</span> &#125;</code></pre></div>

<p>or</p>
<div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> positives = list.filter &#123; it &gt; <span class="hljs-number">0</span> &#125;</code></pre></div>

<h3 id="延迟属性"><a href="#延迟属性" class="headerlink" title="延迟属性"></a>延迟属性</h3><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> p: String <span class="hljs-keyword">by</span> lazy &#123;
    <span class="hljs-comment">// 计算该字符串</span>
&#125;</code></pre></div>

<h3 id="创建单例"><a href="#创建单例" class="headerlink" title="创建单例"></a>创建单例</h3><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">object</span> Resource &#123;
    <span class="hljs-keyword">val</span> name = <span class="hljs-string">"Name"</span>
&#125;</code></pre></div>

<h3 id="对一个对象实例调用多个方法-（with）"><a href="#对一个对象实例调用多个方法-（with）" class="headerlink" title="对一个对象实例调用多个方法 （with）"></a>对一个对象实例调用多个方法 （with）</h3><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Turtle</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">penDown</span><span class="hljs-params">()</span></span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">penUp</span><span class="hljs-params">()</span></span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">turn</span><span class="hljs-params">(degrees: <span class="hljs-type">Double</span>)</span></span>
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">forward</span><span class="hljs-params">(pixels: <span class="hljs-type">Double</span>)</span></span>
&#125;
​
<span class="hljs-keyword">val</span> myTurtle = Turtle()
with(myTurtle) &#123; <span class="hljs-comment">// 画一个 100 像素的正方形</span>
    penDown()
    <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">1</span>..<span class="hljs-number">4</span>) &#123;
        forward(<span class="hljs-number">100.0</span>)
        turn(<span class="hljs-number">90.0</span>)
    &#125;
    penUp()
&#125;</code></pre></div>

<h3 id="配置对象的属性（apply）"><a href="#配置对象的属性（apply）" class="headerlink" title="配置对象的属性（apply）"></a>配置对象的属性（apply）</h3><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">val</span> myRectangle = Rectangle().apply &#123;
    length = <span class="hljs-number">4</span>
    breadth = <span class="hljs-number">5</span>
    color = <span class="hljs-number">0xFAFAFA</span>
&#125;</code></pre></div>

<p>这对于配置未出现在对象构造函数中的属性非常有用。</p>
<h3 id="交换两个变量"><a href="#交换两个变量" class="headerlink" title="交换两个变量"></a>交换两个变量</h3><div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>
<span class="hljs-keyword">var</span> b = <span class="hljs-number">2</span>
a = b.also &#123; b = a &#125;</code></pre></div>

<h3 id="TODO-：将代码标记为不完整"><a href="#TODO-：将代码标记为不完整" class="headerlink" title="TODO()：将代码标记为不完整"></a>TODO()：将代码标记为不完整</h3><p>Kotlin 的标准库有一个 <code>TODO()</code> 函数，该函数总是抛出一个 <code>NotImplementedError</code>。 其返回类型为 <code>Nothing</code>，因此无论预期类型是什么都可以使用它。 还有一个接受原因参数的重载：</p>
<div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">calcTaxes</span><span class="hljs-params">()</span></span>: BigDecimal = TODO(<span class="hljs-string">"Waiting for feedback from accounting"</span>)</code></pre></div>

<p>IntelliJ IDEA 的 kotlin 插件理解 TODO() 的语言，并且会自动在 TODO 工具窗口中添加代码指示。</p>
<h2 id="编码规范"><a href="#编码规范" class="headerlink" title="编码规范"></a>编码规范</h2><h3 id="源代码组织"><a href="#源代码组织" class="headerlink" title="源代码组织"></a>源代码组织</h3><h4 id="源文件名称"><a href="#源文件名称" class="headerlink" title="源文件名称"></a>源文件名称</h4><p>如果 Kotlin 文件包含单个类（以及可能相关的顶层声明），那么文件名应该与该类的名称相同，并追加 .kt 扩展名。如果文件包含多个类或只包含顶层声明， 那么选择一个描述该文件所包含内容的名称，并以此命名该文件。 使用首字母大写的驼峰风格（例如 <code>ProcessDeclarations.kt</code>）。<br>文件的名称应该描述文件中代码的作用。因此，应避免在文件名中使用诸如“Util”之类的无意义词语。</p>
<h4 id="源文件组织"><a href="#源文件组织" class="headerlink" title="源文件组织"></a>源文件组织</h4><p>鼓励多个声明（类、顶级函数或者属性）放在同一个 Kotlin 源文件中， 只要这些声明在语义上彼此紧密关联并且文件保持合理大小 （不超过几百行）。  </p>
<p>特别是在为类定义与类的<strong>所有客户</strong>都相关的扩展函数时， 请将它们放在与<strong>类自身定义相同的地方</strong>。而在定义仅对<strong>指定客户</strong>有意义的扩展函数时，请将它们放在<strong>紧挨该客户代码之后</strong>。不要只是为了保存 “Foo 的所有扩展函数”而创建文件。</p>
<h4 id="类布局"><a href="#类布局" class="headerlink" title="类布局"></a>类布局</h4><p>通常，一个类的内容按以下顺序排列：</p>
<ul>
<li>属性声明与初始化块  </li>
<li>次构造函数  </li>
<li>方法声明  </li>
<li>伴生对象</li>
</ul>
<p>不要按字母顺序或者可见性对方法声明排序，也不要将常规方法与扩展方法分开。而是要把相关的东西放在一起，这样从上到下阅读类的人就能够跟进所发生事情的逻辑。选择一个顺序（高级别优先，或者相反）并坚持下去。  </p>
<p><strong>将嵌套类放在紧挨使用这些类的代码之后。如果打算在外部使用嵌套类，而且类中并没有引用这些类，那么把它们放到末尾，在伴生对象之后。</strong>  </p>
<h4 id="接口实现布局"><a href="#接口实现布局" class="headerlink" title="接口实现布局"></a>接口实现布局</h4><p>在实现一个接口时，实现成员的顺序应该与该接口的成员顺序相同（如果需要， 还要插入用于实现的额外的私有方法）。</p>
<h4 id="重载布局"><a href="#重载布局" class="headerlink" title="重载布局"></a>重载布局</h4><p>在类中总是将重载放在一起。</p>
<h3 id="命名规则"><a href="#命名规则" class="headerlink" title="命名规则"></a>命名规则</h3><ul>
<li>包的名称总是小写且不使用下划线。如不必要，不要使用连词，如果确实需要使用多个词，可以将它们连接在一起或使用驼峰风格。  </li>
<li>类与对象的名称使用 Pascal 风格。</li>
</ul>
<h4 id="函数名"><a href="#函数名" class="headerlink" title="函数名"></a>函数名</h4><ul>
<li>函数、属性与局部变量的命名使用驼峰风格。（例外：用于创建类实例的工厂函数可以与抽象返回类型具有相同的名称。）</li>
<li><strong>当且仅当</strong>在测试中，可以使用反引号括起来的带空格的方法名。（Android 运行时暂不支持。）测试代码中也允许方法名使用下划线。</li>
</ul>
<div class="hljs"><pre><code class="hljs Kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTestCase</span> </span>&#123;
     <span class="hljs-meta">@Test</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> `ensure everything works`<span class="hljs-params">()</span></span> &#123; <span class="hljs-comment">/*...*/</span> &#125;

     <span class="hljs-meta">@Test</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">ensureEverythingWorks_onAndroid</span><span class="hljs-params">()</span></span> &#123; <span class="hljs-comment">/*...*/</span> &#125;
&#125;</code></pre></div>

<h4 id="属性名"><a href="#属性名" class="headerlink" title="属性名"></a>属性名</h4><ul>
<li>常量名称（标有 <code>const</code> 属性，或者保存不可变数据的没有自定义 <code>get</code> 函数的顶层/对象 <code>val</code> 属性）应该使用大写、下划线分隔的名称。</li>
<li>保存带有行为的对象或者可变数据的顶层/对象属性的名称应该使用驼峰风格名称。</li>
<li>保存<strong>单例对象</strong>引用的属性的名称可以使用与 <code>object</code> 声明相同的命名风格。</li>
<li>对于枚举常量，可以使用大写、下划线分隔的名称 <code>（enum class Color { RED, GREEN }）</code>也可使用首字母大写的常规驼峰名称，具体取决于用途。</li>
<li><strong>幕后属性的名称</strong> 如果一个类有两个概念上相同的属性，一个是公共 API 的一部分，另一个是实现细节，那么使用下划线作为私有属性名称的前缀。</li>
</ul>
<h4 id="选择好名称"><a href="#选择好名称" class="headerlink" title="选择好名称"></a>选择好名称</h4><ul>
<li>类的名称通常是用来解释类是什么的名词或者名词短语：<code>List</code>、<code>PersonReader</code>。</li>
<li>方法的名称通常是动词或动词短语，说明该方法做什么：<code>close</code>、<code>readPersons</code>。修改对象或者返回一个新对象的名称也应遵循建议。例如<code>sort</code> 是对一个集合就地排序，而 <code>sorted</code> 是返回一个排序后的集合副本。</li>
<li>名称应该表明实体的目的是什么，所以最好避免在名称中使用无意义的单词（<code>Manager</code>、<code>Wrapper</code> 等）。</li>
<li>当使用首字母缩写作为名称的一部分时，如果缩写由两个字母组成，就将其大写（<code>IOStream</code>）；而如果缩写更长一些，就只大写其首字母（<code>XmlFormatter</code>、<code>HttpInputStream</code>）。</li>
</ul>
<h3 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h3><ul>
<li><strong>使用 4 个空格缩进。不要使用tab。</strong></li>
<li>对于花括号，将左花括号放在结构起始处的行尾，而将右花括号放在与左括结构横向对齐的单独一行。</li>
</ul>
<h4 id="横向空白"><a href="#横向空白" class="headerlink" title="横向空白"></a>横向空白</h4><ul>
<li>在二元操作符左右留空格（<code>a + b</code>）。例外：不要在“range to”操作符（<code>0..i</code>）左右留空格。</li>
<li>不要在一元运算符左右留空格（<code>a++</code>）</li>
<li>在控制流关键字（<code>if</code>、 <code>when</code>、 <code>for</code> 以及 <code>while</code>）与相应的左括号之间留空格。</li>
<li>不要在主构造函数声明、方法声明或者方法调用的左括号之前留空格。</li>
<li><strong>绝不在 <code>(</code>、 <code>[</code> 之后或者 <code>]</code>、 <code>)</code> 之前留空格。</strong></li>
<li>绝不在 <code>.</code> 或者 <code>?.</code> 左右留空格：<code>foo.bar().filter { it &gt; 2 }.joinToString(), foo?.bar()</code></li>
<li>在 <code>//</code> 之后留一个空格：<code>// 这是一条注释</code></li>
<li>不要在用于指定类型参数的尖括号前后留空格： <code>class Map&lt;K, V&gt; { …… }</code></li>
<li>不要在 :: 前后留空格：<code>Foo::class</code>、 <code>String::length</code></li>
<li>不要在用于标记可空类型的 ? 前留空格：<code>String?</code></li>
<li><strong>作为一般规则，避免任何类型的水平对齐。将标识符重命名为不同长度的名称不应该影响声明或者任何用法的格式。</strong></li>
</ul>
<h4 id="冒号"><a href="#冒号" class="headerlink" title="冒号"></a>冒号</h4><p>在以下场景中的 <code>:</code> 之前留一个空格：</p>
<ul>
<li>当它用于分隔类型与超类型时；</li>
<li>当委托给一个超类的构造函数或者同一类的另一个构造函数时；</li>
<li>在 <code>object</code> 关键字之后。</li>
</ul>
<p>而当分隔声明与其类型时，不要在 : 之前留空格。</p>
<h4 id="类头格式化"><a href="#类头格式化" class="headerlink" title="类头格式化"></a>类头格式化</h4><p>具有少数主构造函数参数的类可以写成一行：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>(id: <span class="hljs-built_in">Int</span>, name: String)</code></pre></div>

<p>具有较长类头的类应该格式化，以使每个主构造函数参数都在带有缩进的独立的行中。 另外，右括号应该位于一个新行上。如果使用了继承，那么超类的构造函数调用或者所实现接口的列表应该与右括号位于同一行：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>(
    id: <span class="hljs-built_in">Int</span>,
    name: String,
    surname: String
) : Human(id, name) &#123; <span class="hljs-comment">/*……*/</span> &#125;</code></pre></div>

<p>对于多个接口，应该将超类构造函数调用放在首位，然后将每个接口应放在不同的行中：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Person</span></span>(
    id: <span class="hljs-built_in">Int</span>,
    name: String,
    surname: String
) : Human(id, name),
    KotlinMaker &#123; <span class="hljs-comment">/*……*/</span> &#125;</code></pre></div>

<p>对于具有很长超类型列表的类，在冒号后面换行，并横向对齐所有超类型名：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyFavouriteVeryLongClassHolder</span> :<span class="hljs-type"></span></span>
    MyLongHolder&lt;MyFavouriteVeryLongClass&gt;(),
    SomeOtherInterface,
    AndAnotherOne &#123;

    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span> &#123; <span class="hljs-comment">/*...*/</span> &#125;
&#125;</code></pre></div>

<p>为了将类头与类体分隔清楚，当类头很长时，可以在类头后放一空行 （如上例所示）或者将左花括号放在独立行上：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyFavouriteVeryLongClassHolder</span> :<span class="hljs-type"></span></span>
    MyLongHolder&lt;MyFavouriteVeryLongClass&gt;(),
    SomeOtherInterface,
    AndAnotherOne
&#123;
    <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">foo</span><span class="hljs-params">()</span></span> &#123; <span class="hljs-comment">/*...*/</span> &#125;
&#125;</code></pre></div>

<h4 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h4><p>如果一个声明有多个修饰符，按照以下顺序安放：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-keyword">public</span> / <span class="hljs-keyword">protected</span> / <span class="hljs-keyword">private</span> / <span class="hljs-keyword">internal</span>
<span class="hljs-keyword">expect</span> / <span class="hljs-keyword">actual</span>
<span class="hljs-keyword">final</span> / <span class="hljs-keyword">open</span> / <span class="hljs-keyword">abstract</span> / <span class="hljs-keyword">sealed</span> / <span class="hljs-keyword">const</span>
<span class="hljs-keyword">external</span>
<span class="hljs-keyword">override</span>
<span class="hljs-keyword">lateinit</span>
<span class="hljs-keyword">tailrec</span>
<span class="hljs-keyword">vararg</span>
<span class="hljs-keyword">suspend</span>
<span class="hljs-keyword">inner</span>
<span class="hljs-keyword">enum</span> / <span class="hljs-keyword">annotation</span>
<span class="hljs-keyword">companion</span>
<span class="hljs-keyword">inline</span>
<span class="hljs-keyword">infix</span>
<span class="hljs-keyword">operator</span>
<span class="hljs-keyword">data</span></code></pre></div>

<p>将所有注解放在修饰符前：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-meta">@Named(<span class="hljs-meta-string">"Foo"</span>)</span>
<span class="hljs-keyword">private</span> <span class="hljs-keyword">val</span> foo: Foo</code></pre></div>

<p>尽量省略多余的修饰符（例如 <code>public</code> ）。</p>
<h4 id="注解格式化"><a href="#注解格式化" class="headerlink" title="注解格式化"></a>注解格式化</h4><ul>
<li>注解通常放在单独的行上，在它们所依附的声明之前，并使用相同的缩进。</li>
<li>无参数的注解可以放在同一行。</li>
<li>无参数的单个注解可以与相应的声明放在同一行。</li>
</ul>
<h4 id="文件注解"><a href="#文件注解" class="headerlink" title="文件注解"></a>文件注解</h4><p>文件注解位于文件注释（如果有的话）之后、<code>package</code> 语句之前，并且用一个空白行与 <code>package</code> 分开（为了强调其针对文件而不是包）。</p>
<h4 id="函数格式化"><a href="#函数格式化" class="headerlink" title="函数格式化"></a>函数格式化</h4><ul>
<li>如果函数签名不适合单行，请使用以下语法：</li>
</ul>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">longMethodName</span><span class="hljs-params">(</span></span>
<span class="hljs-function"><span class="hljs-params">    argument: <span class="hljs-type">ArgumentType</span> = defaultValue,</span></span>
<span class="hljs-function"><span class="hljs-params">    argument2: <span class="hljs-type">AnotherArgumentType</span></span></span>
<span class="hljs-function"><span class="hljs-params">)</span></span>: ReturnType &#123;
    <span class="hljs-comment">// 函数体</span>
&#125;</code></pre></div>

<ul>
<li>函数参数使用常规缩进（四个空格）。</li>
<li>对于由单个表达式构成的函数体，优先使用表达式形式。</li>
</ul>
<h4 id="表达式函数体格式化"><a href="#表达式函数体格式化" class="headerlink" title="表达式函数体格式化"></a>表达式函数体格式化</h4><p>如果函数的表达式函数体与函数声明不适合放在同一行，那么将 <code>=</code> 留在第一行。 将表达式函数体缩进 4 个空格。</p>
<h4 id="属性格式化"><a href="#属性格式化" class="headerlink" title="属性格式化"></a>属性格式化</h4><ul>
<li>对于非常简单的只读属性，考虑单行格式。<code>val isEmpty: Boolean get() = size == 0</code></li>
<li>对于更复杂的属性，总是将 <code>get</code> 与 <code>set</code> 关键字放在不同的行上。</li>
<li>对于具有初始化器的属性，如果初始化器很长，那么在等号后增加一个换行并将初始化器缩进四个空格。</li>
</ul>
<h4 id="格式化控制流语句"><a href="#格式化控制流语句" class="headerlink" title="格式化控制流语句"></a>格式化控制流语句</h4><ul>
<li>如果 <code>if</code> 或 <code>when</code> 语句的条件有多行，那么在语句体外边总是使用大括号。 将该条件的每个后续行相对于条件语句起始处缩进 4 个空格。 将该条件的右圆括号与左花括号放在单独一行。</li>
<li>将 <code>else</code>、 <code>catch</code>、 <code>finally</code> 关键字以及 <code>do/while</code> 循环的 <code>while</code> 关键字与之前的花括号放在相同的行上。</li>
<li>在 <code>when</code> 语句中，如果一个分支不止一行，可以考虑用空行将其与相邻的分支块分开，将短分支放在与条件相同的行上，无需花括号。</li>
</ul>
<h4 id="方法调用格式化"><a href="#方法调用格式化" class="headerlink" title="方法调用格式化"></a>方法调用格式化</h4><p>在较长参数列表的左括号后添加一个换行符。按 4 个空格缩进参数。 将密切相关的多个参数分在同一行，在分隔参数名与值的 <code>=</code> 左右留空格。</p>
<h4 id="链式调用换行"><a href="#链式调用换行" class="headerlink" title="链式调用换行"></a>链式调用换行</h4><ul>
<li>当对链式调用换行时，将 <code>.</code> 字符或者 <code>?.</code> 操作符放在下一行，并带有单倍缩进。</li>
<li>调用链的第一个调用通常在换行之前，当然如果能让代码更有意义也可以忽略这点。</li>
</ul>
<h4 id="Lambda-表达式格式化"><a href="#Lambda-表达式格式化" class="headerlink" title="Lambda 表达式格式化"></a>Lambda 表达式格式化</h4><ul>
<li>在 lambda 表达式中，应该在花括号左右以及分隔参数与代码体的箭头左右留空格。 如果一个调用接受单个 lambda 表达式，应该尽可能将其放在圆括号外边传入。</li>
<li>如果为 lambda 表达式分配一个标签，那么不要在该标签与左花括号之间留空格。</li>
<li>在多行的 lambda 表达式中声明参数名时，将参数名放在第一行，后跟箭头与换行符。</li>
</ul>
<div class="hljs"><pre><code class="hljs kotlin">appendCommaSeparated(properties) &#123; prop -&gt;
    <span class="hljs-keyword">val</span> propertyValue = prop.<span class="hljs-keyword">get</span>(obj)  <span class="hljs-comment">// ……</span>
&#125;</code></pre></div>

<ul>
<li>如果参数列表太长而无法放在一行上，请将箭头放在单独一行。</li>
</ul>
<h3 id="文档注释"><a href="#文档注释" class="headerlink" title="文档注释"></a>文档注释</h3><ul>
<li>对于较长的文档注释，将开头 <code>/**</code> 放在一个独立行中，并且后续每行都以性好开头。</li>
<li>简短注释可以放在一行内。</li>
<li>通常，避免使用 <code>@param</code> 与 <code>@return</code> 标记。而是将参数与返回值的描述直接合并到文档注释中，并在提到参数的任何地方加上参数链接。 只有当需要不适合放进主文本流程的冗长描述时才应使用 <code>@param</code> 与 <code>@return</code>。</li>
</ul>
<h3 id="避免重复结构"><a href="#避免重复结构" class="headerlink" title="避免重复结构"></a>避免重复结构</h3><p>一般来说，如果 Kotlin 中的某种语法结构是可选的并且被 IDE 高亮为冗余的，那么应该在代码中省略之。为了清楚起见，不要在代码中保留不必要的语法元素 。</p>
<ul>
<li>将简单变量传入到字符串模版中时不要使用花括号。只有用到更长表达式时才使用花括号。</li>
</ul>
<h3 id="语言特性的惯用法"><a href="#语言特性的惯用法" class="headerlink" title="语言特性的惯用法"></a>语言特性的惯用法</h3><h4 id="不可变性"><a href="#不可变性" class="headerlink" title="不可变性"></a>不可变性</h4><ul>
<li>优先使用不可变（而不是可变）数据。初始化后未修改的局部变量与属性，总是将其声明为 <code>val</code> 而不是 <code>var</code> 。</li>
<li>总是使用不可变集合接口（<code>Collection</code>, <code>List</code>, <code>Set</code>, <code>Map</code>）来声明无需改变的集合。使用工厂函数创建集合实例时，尽可能选用返回不可变集合类型的函数。</li>
</ul>
<h4 id="默认参数值"><a href="#默认参数值" class="headerlink" title="默认参数值"></a>默认参数值</h4><p>优先声明带有默认参数的函数而不是声明重载函数。</p>
<h4 id="类型别名"><a href="#类型别名" class="headerlink" title="类型别名"></a>类型别名</h4><p>如果有一个在代码库中多次用到的函数类型或者带有类型参数的类型，那么最好为它定义一个类型别名：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-keyword">typealias</span> MouseClickHandler = (Any, MouseEvent) -&gt; <span class="hljs-built_in">Unit</span>
<span class="hljs-keyword">typealias</span> PersonIndex = Map&lt;String, Person&gt;</code></pre></div>

<h4 id="Lambda-表达式"><a href="#Lambda-表达式" class="headerlink" title="Lambda 表达式"></a>Lambda 表达式</h4><p>在简短、非嵌套的 lambda 表达式中建议使用 <code>it</code> 用法而不是显式声明参数。而在有参数的嵌套 lambda 表达式中，始终应该显式声明参数。</p>
<h4 id="在-lambda-表达式中返回"><a href="#在-lambda-表达式中返回" class="headerlink" title="在 lambda 表达式中返回"></a>在 lambda 表达式中返回</h4><p>避免在 lambda 表达式中使用多个返回到标签。请考虑重新组织这样的 lambda 表达式使其只有单一退出点。 如果这无法做到或者不够清晰，请考虑将 lambda 表达式转换为匿名函数。</p>
<p>不要在 lambda 表达式的最后一条语句中使用返回到标签。</p>
<h4 id="具名参数"><a href="#具名参数" class="headerlink" title="具名参数"></a>具名参数</h4><p>当一个方法接受多个相同的原生类型参数或者多个 Boolean 类型参数时，请使用具名参数语法， 除非在上下文中的所有参数的含义都已绝对清楚。</p>
<h4 id="使用条件语句"><a href="#使用条件语句" class="headerlink" title="使用条件语句"></a>使用条件语句</h4><p>优先使用 <code>try</code>、<code>if</code> 与 <code>when</code> 的表达形式。例如：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-keyword">return</span> <span class="hljs-keyword">if</span> (x) foo() <span class="hljs-keyword">else</span> bar()

<span class="hljs-keyword">return</span> <span class="hljs-keyword">when</span>(x) &#123;
    <span class="hljs-number">0</span> -&gt; <span class="hljs-string">"zero"</span>
    <span class="hljs-keyword">else</span> -&gt; <span class="hljs-string">"nonzero"</span>
&#125;</code></pre></div>

<h4 id="if-还是-when"><a href="#if-还是-when" class="headerlink" title="if 还是 when"></a>if 还是 when</h4><p>二元条件优先使用 <code>if</code> 而不是 <code>when</code>。<br>如果有三个或多个选项时优先使用 <code>when</code>。</p>
<h4 id="在条件中使用可空的-Boolean-值"><a href="#在条件中使用可空的-Boolean-值" class="headerlink" title="在条件中使用可空的 Boolean 值"></a>在条件中使用可空的 Boolean 值</h4><p>如果需要在条件语句中用到可空的 <code>Boolean</code>, 使用 <code>if (value == true)</code> 或 <code>if (value == false)</code> 检测。</p>
<h4 id="使用循环"><a href="#使用循环" class="headerlink" title="使用循环"></a>使用循环</h4><p>优先使用高阶函数（<code>filter</code>、<code>map</code> 等）而不是循环。例外：<code>forEach</code>（优先使用常规的 <code>for</code> 循环， 除非 <code>forEach</code> 的接收者是可空的或者 <code>forEach</code> 用做长调用链的一部分。）</p>
<p>当在使用多个高阶函数的复杂表达式与循环之间进行选择时，请了解每种情况下所执行操作的开销并且记得考虑性能因素。</p>
<h4 id="区间上循环"><a href="#区间上循环" class="headerlink" title="区间上循环"></a>区间上循环</h4><p>使用 <code>until</code> 函数在一个开区间上循环：</p>
<div class="hljs"><pre><code class="hljs kotlin"><span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span>..n - <span class="hljs-number">1</span>) &#123; <span class="hljs-comment">/*……*/</span> &#125;  <span class="hljs-comment">// 不良</span>
<span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> <span class="hljs-number">0</span> until n) &#123; <span class="hljs-comment">/*……*/</span> &#125;  <span class="hljs-comment">// 良好</span></code></pre></div>

<h4 id="使用字符串"><a href="#使用字符串" class="headerlink" title="使用字符串"></a>使用字符串</h4><ul>
<li>优先使用字符串模板而不是字符串拼接。</li>
<li>优先使用多行字符串而不是将 <code>\n</code> 转义序列嵌入到常规字符串字面值中。</li>
<li>如需在多行字符串中维护缩进，当生成的字符串不需要任何内部缩进时使用 <code>trimIndent</code>，而需要内部缩进时使用 <code>trimMargin</code>。</li>
</ul>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/LANGUAGE/">LANGUAGE</a>
                    
                      <a class="hover-with-bg" href="/categories/LANGUAGE/Kotlin/">Kotlin</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Kotlin%E5%9F%BA%E7%A1%80/">Kotlin基础</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2020/07/03/Kotlin%EF%BC%88%E4%BA%8C%EF%BC%89/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Kotlin的学习（二）——基础</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/07/02/%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/">
                        <span class="hidden-mobile">进程和线程</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;
  目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <!-- <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div> -->
    
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "Kotlin的学习（一）——开始&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
